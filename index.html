<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>TikTok Analytics Dashboard</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta
      name="description"
      content="Dashboard anal√≠tico de TikTok con m√©tricas clave y visualizaciones interactivas."
    />
<!-- Favicons -->
<link rel="apple-touch-icon" sizes="180x180" href="./img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./img/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./img/favicon/favicon-16x16.png">
<link rel="manifest" href="./img/favicon/site.webmanifest">
<link rel="icon" href="./img/favicon/favicon.ico">


    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
      :root {
        --bg-main: #050816;
        --bg-elevated: #0b1020;
        --bg-elevated-soft: #101629;
        --border-subtle: rgba(255, 255, 255, 0.06);
        --accent: #ff2c55;
        --accent-soft: rgba(255, 44, 85, 0.12);
        --accent-alt: #20d5ff;
        --text-main: #f9fafb;
        --text-muted: #9ca3af;
        --card-radius: 18px;
        --transition-fast: 0.18s ease-out;
      }

      [data-theme="light"] {
        --bg-main: #f4f4f5;
        --bg-elevated: #ffffff;
        --bg-elevated-soft: #f3f4f6;
        --border-subtle: rgba(15, 23, 42, 0.1);
        --text-main: #0f172a;
        --text-muted: #6b7280;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
        background: radial-gradient(circle at top, #1f2937 0, var(--bg-main) 45%);
        color: var(--text-main);
        min-height: 100vh;
      }

      .page {
        max-width: 1120px;
        margin: 0 auto;
        padding: 1.25rem 1rem 2.5rem;
      }

      header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .brand {
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .brand-logo {
        width: 40px;
        height: 40px;
        border-radius: 999px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: radial-gradient(circle at top left, #20d5ff, #ff2c55);
        box-shadow: 0 0 0 2px rgba(15, 23, 42, 0.8);
      }

      .brand-logo span {
        font-size: 1.1rem;
        font-weight: 800;
        color: #ffffff;
      }

      .brand-text-title {
        font-size: 1.1rem;
        font-weight: 700;
        letter-spacing: 0.04em;
      }

      .brand-text-sub {
        font-size: 0.75rem;
        color: var(--text-muted);
      }

      .actions {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .select {
        appearance: none;
        border-radius: 999px;
        border: 1px solid var(--border-subtle);
        background: var(--bg-elevated-soft);
        color: var(--text-main);
        font-size: 0.78rem;
        padding: 0.4rem 1.6rem 0.4rem 0.8rem;
        position: relative;
      }

      .theme-toggle {
        border-radius: 999px;
        border: 1px solid var(--border-subtle);
        background: var(--bg-elevated-soft);
        color: var(--text-main);
        font-size: 0.78rem;
        padding: 0.35rem 0.9rem;
        display: inline-flex;
        align-items: center;
        gap: 0.3rem;
        cursor: pointer;
        transition: background var(--transition-fast), transform 0.08s ease-out;
      }

      .theme-toggle:hover {
        background: var(--bg-elevated);
      }

      .theme-toggle:active {
        transform: translateY(1px);
      }

      main {
        display: grid;
        grid-template-columns: minmax(0, 3fr) minmax(0, 2fr);
        gap: 1rem;
      }

      @media (max-width: 880px) {
        main {
          grid-template-columns: minmax(0, 1fr);
        }

        header {
          flex-direction: column;
          align-items: flex-start;
        }

        .actions {
          align-self: stretch;
          justify-content: space-between;
        }
      }

      .card {
        background: linear-gradient(
          135deg,
          rgba(148, 163, 184, 0.09),
          rgba(15, 23, 42, 0.96)
        );
        border-radius: var(--card-radius);
        border: 1px solid var(--border-subtle);
        padding: 1rem 1rem 0.9rem;
        box-shadow: 0 18px 45px rgba(15, 23, 42, 0.75);
      }

      [data-theme="light"] .card {
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.98),
          rgba(243, 244, 246, 0.98)
        );
        box-shadow: 0 14px 30px rgba(15, 23, 42, 0.12);
      }

      .kpi-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 0.75rem;
        margin-bottom: 1rem;
      }

      @media (max-width: 680px) {
        .kpi-grid {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }
      }

      .kpi {
        background: radial-gradient(circle at top left, #0f172a, #020617);
        border-radius: 16px;
        padding: 0.7rem 0.8rem;
        border: 1px solid rgba(148, 163, 184, 0.25);
        position: relative;
        overflow: hidden;
        cursor: default;
        transition: border var(--transition-fast), transform 0.08s ease-out,
          box-shadow var(--transition-fast), background var(--transition-fast);
      }

      .kpi::after {
        content: "";
        position: absolute;
        inset: -30%;
        background: radial-gradient(
          circle at top,
          rgba(32, 213, 255, 0.08),
          rgba(0, 0, 0, 0)
        );
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.16s ease-out;
      }

      .kpi:hover {
        border-color: rgba(248, 250, 252, 0.32);
        transform: translateY(-1px);
        box-shadow: 0 20px 40px rgba(15, 23, 42, 0.85);
      }

      .kpi:hover::after {
        opacity: 1;
      }

      .kpi-label {
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--text-muted);
        margin-bottom: 0.3rem;
      }

      .kpi-value {
        font-size: 1.25rem;
        font-weight: 700;
      }

      .kpi-sub {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 0.3rem;
        font-size: 0.7rem;
        color: var(--text-muted);
      }

      .chip {
        padding: 0.12rem 0.5rem;
        border-radius: 999px;
        font-size: 0.65rem;
        background: var(--accent-soft);
        color: var(--accent);
        display: inline-flex;
        align-items: center;
        gap: 0.18rem;
      }

      .chip span {
        font-size: 0.7rem;
      }

      .chart-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 0.35rem;
      }

      .chart-title {
        font-size: 0.85rem;
        font-weight: 600;
      }

      .pill-tabs {
        display: inline-flex;
        padding: 0.12rem;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.7);
        border: 1px solid rgba(148, 163, 184, 0.35);
      }

      [data-theme="light"] .pill-tabs {
        background: rgba(243, 244, 246, 0.9);
      }

      .pill-btn {
        border: none;
        background: transparent;
        color: var(--text-muted);
        font-size: 0.7rem;
        padding: 0.18rem 0.7rem;
        border-radius: 999px;
        cursor: pointer;
        transition: background var(--transition-fast), color var(--transition-fast);
      }

      .pill-btn--active {
        background: linear-gradient(
          to right,
          var(--accent),
          #ff7a7a
        );
        color: #ffffff;
      }

      .chart-wrapper {
        position: relative;
        margin-top: 0.35rem;
        height: 260px;
      }

      @media (max-width: 880px) {
        .chart-wrapper {
          height: 230px;
        }
      }

      .side-column {
        display: flex;
        flex-direction: column;
        gap: 0.9rem;
      }

      .trend-list {
        display: flex;
        flex-direction: column;
        gap: 0.45rem;
        margin-top: 0.4rem;
        font-size: 0.78rem;
      }

      .trend-item {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.45rem 0.55rem;
        border-radius: 12px;
        background: rgba(15, 23, 42, 0.75);
        border: 1px solid rgba(15, 23, 42, 0.9);
      }

      [data-theme="light"] .trend-item {
        background: #f3f4f6;
        border-color: rgba(148, 163, 184, 0.35);
      }

      .trend-main {
        display: flex;
        flex-direction: column;
        gap: 0.06rem;
      }

      .trend-title {
        font-weight: 500;
      }

      .trend-meta {
        font-size: 0.7rem;
        color: var(--text-muted);
      }

      .trend-kpi {
        text-align: right;
        font-size: 0.7rem;
      }

      .trend-kpi strong {
        display: block;
        font-size: 0.85rem;
      }

      .mini-dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: var(--accent);
        margin-right: 0.3rem;
      }

      .footer {
        margin-top: 1.5rem;
        font-size: 0.7rem;
        color: var(--text-muted);
        text-align: center;
      }
    </style>
  </head>

  <body data-theme="dark">
    <div class="page">
      <header>
        <div class="brand">
          <div class="brand-logo">
            <span>TT</span>
          </div>
          <div>
            <div class="brand-text-title">TikTok Analytics Dashboard</div>
            <div class="brand-text-sub">
              Panel de m√©tricas clave para creadores de contenido.
            </div>
          </div>
        </div>

        <div class="actions">
          <select id="accountSelect" class="select">
            <option value="main">Cuenta principal</option>
            <option value="brand">Marca / Colaboraci√≥n</option>
            <option value="backup">Cuenta secundaria</option>
          </select>

          <div class="pill-tabs" aria-label="Rango de tiempo">
            <button
              class="pill-btn pill-btn--active"
              data-range="7"
              type="button"
            >
              7 d√≠as
            </button>
            <button class="pill-btn" data-range="30" type="button">
              30 d√≠as
            </button>
            <button class="pill-btn" data-range="90" type="button">
              90 d√≠as
            </button>
          </div>

          <button id="themeToggle" class="theme-toggle" type="button">
            <span aria-hidden="true">üåó</span>
            <span>Cambiar tema</span>
          </button>
        </div>
      </header>

      <main>
        <!-- Columna izquierda -->
        <section aria-label="M√©tricas principales" class="card">
          <div class="kpi-grid" id="kpiGrid">
            <!-- Se rellenan v√≠a JS -->
          </div>

          <div class="card" style="margin: 0; padding: 0.7rem 0.8rem 0.9rem;">
            <div class="chart-header">
              <div class="chart-title">Evoluci√≥n de engagement</div>
              <span class="chip">
                <span>‚óè</span>
                <span id="growthLabel">+0% √∫ltimos 7 d√≠as</span>
              </span>
            </div>
            <div class="chart-wrapper">
              <canvas id="engagementChart" aria-label="Gr√°fico de engagement"></canvas>
            </div>
          </div>
        </section>

        <!-- Columna derecha -->
        <aside class="side-column">
          <section class="card">
            <div class="chart-header">
              <div class="chart-title">Rendimiento por tipo de contenido</div>
            </div>
            <div class="chart-wrapper" style="height: 210px;">
              <canvas id="contentTypeChart"></canvas>
            </div>
          </section>

          <section class="card">
            <div class="chart-header">
              <div class="chart-title">Top videos recientes</div>
            </div>
            <div class="trend-list" id="trendList">
              <!-- Se rellena por JS -->
            </div>
          </section>
        </aside>
      </main>

      <p class="footer">
        TikTok Dashboard ¬∑ Demo anal√≠tica ¬∑ Construido con HTML, CSS, JavaScript
        y Chart.js.
      </p>
    </div>

    <script>
      // ================================
      // Datos mock por cuenta/rango
      // ================================

      const BASE_DATA = {
        main: {
          7: {
            followers: 128430,
            following: 321,
            likes: 1543200,
            videos: 342,
            engagement: 6.8,
            growth: 3.4,
            dailyEngagement: [6.1, 6.3, 6.8, 7.1, 6.9, 6.7, 6.8],
            contentType: {
              trends: 0.42,
              educativos: 0.33,
              lifestyle: 0.25,
            },
            videos: [
              { title: "Tutorial r√°pido de edici√≥n", views: 83000, ctr: 8.1 },
              { title: "Behind the scenes sesi√≥n", views: 67000, ctr: 6.4 },
              { title: "Trend adaptada a la marca", views: 59000, ctr: 5.9 },
            ],
          },
          30: {
            followers: 123900,
            following: 318,
            likes: 1440000,
            videos: 332,
            engagement: 6.2,
            growth: 8.9,
            dailyEngagement: [5.4, 5.8, 6.3, 6.7, 6.2, 6.1, 6.5, 6.4, 6.0, 6.2],
            contentType: {
              trends: 0.48,
              educativos: 0.29,
              lifestyle: 0.23,
            },
            videos: [
              { title: "Colaboraci√≥n con creador X", views: 145000, ctr: 9.4 },
              { title: "Trend musical", views: 123000, ctr: 7.8 },
              { title: "Tips de crecimiento org√°nico", views: 91000, ctr: 6.2 },
            ],
          },
          90: {
            followers: 110200,
            following: 305,
            likes: 1180000,
            videos: 302,
            engagement: 5.7,
            growth: 18.1,
            dailyEngagement: [4.9, 5.0, 5.4, 5.9, 5.7, 5.5, 5.6],
            contentType: {
              trends: 0.52,
              educativos: 0.27,
              lifestyle: 0.21,
            },
            videos: [
              { title: "Video que se hizo viral", views: 420000, ctr: 11.5 },
              { title: "Serie educativa (cap. 1)", views: 160000, ctr: 7.2 },
              { title: "Storytime interactivo", views: 120000, ctr: 6.0 },
            ],
          },
        },
        brand: {
          7: {
            followers: 35400,
            following: 54,
            likes: 430200,
            videos: 120,
            engagement: 4.2,
            growth: 2.1,
            dailyEngagement: [3.9, 4.0, 4.3, 4.4, 4.2, 4.1, 4.2],
            contentType: {
              trends: 0.25,
              educativos: 0.45,
              lifestyle: 0.3,
            },
            videos: [
              { title: "Lanzamiento de campa√±a", views: 34000, ctr: 4.9 },
              { title: "Tutorial de producto", views: 29000, ctr: 4.1 },
              { title: "Contenido UGC destacado", views: 26000, ctr: 3.8 },
            ],
          },
          30: {
            followers: 33210,
            following: 50,
            likes: 390000,
            videos: 112,
            engagement: 4.0,
            growth: 5.3,
            dailyEngagement: [3.7, 3.8, 4.1, 4.2, 3.9, 4.0, 4.1],
            contentType: {
              trends: 0.32,
              educativos: 0.4,
              lifestyle: 0.28,
            },
            videos: [
              { title: "Review de clientes", views: 56000, ctr: 5.1 },
              { title: "Detr√°s de la marca", views: 41000, ctr: 4.0 },
              { title: "Tip r√°pido de uso", views: 39000, ctr: 3.9 },
            ],
          },
          90: {
            followers: 30100,
            following: 48,
            likes: 320000,
            videos: 100,
            engagement: 3.7,
            growth: 14.2,
            dailyEngagement: [3.1, 3.3, 3.5, 3.8, 3.7, 3.6, 3.7],
            contentType: {
              trends: 0.3,
              educativos: 0.38,
              lifestyle: 0.32,
            },
            videos: [
              { title: "Campa√±a trimestral", views: 80000, ctr: 5.7 },
              { title: "Caso de √©xito cliente", views: 62000, ctr: 4.6 },
              { title: "Q&A en directo", views: 57000, ctr: 4.3 },
            ],
          },
        },
        backup: {
          7: {
            followers: 7800,
            following: 120,
            likes: 64000,
            videos: 64,
            engagement: 5.1,
            growth: 1.8,
            dailyEngagement: [4.8, 5.0, 5.3, 5.4, 5.2, 5.1, 5.1],
            contentType: {
              trends: 0.5,
              educativos: 0.2,
              lifestyle: 0.3,
            },
            videos: [
              { title: "Clip reciclado #1", views: 12000, ctr: 5.2 },
              { title: "Best of highlights", views: 9600, ctr: 4.8 },
              { title: "Corte de directo", views: 8400, ctr: 4.3 },
            ],
          },
          30: {
            followers: 7500,
            following: 115,
            likes: 61000,
            videos: 60,
            engagement: 4.8,
            growth: 4.5,
            dailyEngagement: [4.3, 4.6, 4.9, 4.8, 4.7, 4.8, 4.9],
            contentType: {
              trends: 0.54,
              educativos: 0.16,
              lifestyle: 0.3,
            },
            videos: [
              { title: "Highlights mensuales", views: 17800, ctr: 6.1 },
              { title: "Recopilaci√≥n de bloopers", views: 14200, ctr: 5.4 },
              { title: "Edici√≥n alternativa", views: 11800, ctr: 4.7 },
            ],
          },
          90: {
            followers: 6900,
            following: 110,
            likes: 54000,
            videos: 52,
            engagement: 4.3,
            growth: 10.9,
            dailyEngagement: [3.9, 4.0, 4.2, 4.4, 4.3, 4.2, 4.3],
            contentType: {
              trends: 0.48,
              educativos: 0.18,
              lifestyle: 0.34,
            },
            videos: [
              { title: "Mejores momentos Q1", views: 22000, ctr: 6.4 },
              { title: "Recopilaci√≥n viral", views: 19800, ctr: 5.9 },
              { title: "Remix de sonidos", views: 17100, ctr: 5.1 },
            ],
          },
        },
      };

      // =========================
      // Estado & utilidades UI
      // =========================

      const state = {
        account: "main",
        range: 7,
        theme: "dark",
      };

      const kpiGridEl = document.getElementById("kpiGrid");
      const trendListEl = document.getElementById("trendList");
      const growthLabelEl = document.getElementById("growthLabel");
      const themeToggleBtn = document.getElementById("themeToggle");
      const accountSelect = document.getElementById("accountSelect");

      let engagementChart;
      let contentTypeChart;

      function formatNumber(num) {
        if (num >= 1_000_000) {
          return (num / 1_000_000).toFixed(1) + "M";
        }
        if (num >= 1_000) {
          return (num / 1_000).toFixed(1) + "k";
        }
        return num.toString();
      }

      // =========================
      // Render de KPIs
      // =========================

      function renderKpis(snapshot) {
        const kpis = [
          {
            id: "followers",
            label: "Followers",
            value: snapshot.followers,
            delta: snapshot.growth,
            help: "Crecimiento relativo en el rango seleccionado.",
          },
          {
            id: "following",
            label: "Following",
            value: snapshot.following,
            delta: snapshot.following > 0 ? 0.4 : 0,
            help: "Cuentas que sigues desde esta cuenta.",
          },
          {
            id: "likes",
            label: "Likes",
            value: snapshot.likes,
            delta: snapshot.engagement,
            help: "Likes totales acumulados en el perfil.",
          },
          {
            id: "videos",
            label: "Videos",
            value: snapshot.videos,
            delta: (snapshot.videos / state.range).toFixed(1),
            help: "V√≠deos publicados hasta la fecha.",
          },
          {
            id: "engagement",
            label: "Engagement",
            value: snapshot.engagement.toFixed(1) + "%",
            delta: snapshot.growth / 2,
            help: "Engagement medio (visualizaciones + interacciones).",
          },
          {
            id: "growth",
            label: "Growth",
            value: "+" + snapshot.growth.toFixed(1) + "%",
            delta: snapshot.growth,
            help: "Crecimiento neto de seguidores.",
          },
        ];

        kpiGridEl.innerHTML = kpis
          .map((kpi) => {
            const deltaSign = kpi.delta >= 0 ? "+" : "";
            return `
            <article class="kpi" aria-label="${kpi.label}">
              <div class="kpi-label">${kpi.label}</div>
              <div class="kpi-value">${formatNumber(kpi.value)}</div>
              <div class="kpi-sub">
                <span>${kpi.help}</span>
                <span class="chip" aria-label="Variaci√≥n">
                  <span>${deltaSign}${kpi.delta.toFixed(1)}%</span>
                </span>
              </div>
            </article>
          `;
          })
          .join("");
      }

      // =========================
      // Render de videos top
      // =========================

      function renderTopVideos(snapshot) {
        trendListEl.innerHTML = snapshot.videos
          .map(
            (v, index) => `
            <article class="trend-item">
              <div class="trend-main">
                <div>
                  <span class="mini-dot" aria-hidden="true"></span>
                  <span class="trend-title">#${index + 1} ${v.title}</span>
                </div>
                <div class="trend-meta">
                  ${formatNumber(v.views)} views ¬∑ CTR ${v.ctr.toFixed(1)}%
                </div>
              </div>
              <div class="trend-kpi">
                <strong>${v.ctr.toFixed(1)}%</strong>
                <span>CTR estimado</span>
              </div>
            </article>
          `
          )
          .join("");
      }

      // =========================
      // Charts con Chart.js
      // =========================

      function buildEngagementChart(ctx, snapshot) {
        if (engagementChart) engagementChart.destroy();

        const labels = snapshot.dailyEngagement.map((_, i) => `D√≠a ${i + 1}`);
        engagementChart = new Chart(ctx, {
          type: "line",
          data: {
            labels,
            datasets: [
              {
                label: "Engagement %",
                data: snapshot.dailyEngagement,
                borderColor: "#ff2c55",
                backgroundColor: "rgba(255,44,85,0.16)",
                borderWidth: 2,
                tension: 0.35,
                pointRadius: 2.5,
                pointHoverRadius: 4,
                fill: true,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                display: false,
              },
              tooltip: {
                callbacks: {
                  label: (ctx) => `${ctx.parsed.y.toFixed(2)} %`,
                },
              },
            },
            scales: {
              x: {
                grid: {
                  display: false,
                },
                ticks: {
                  font: { size: 10 },
                  color: "rgba(148,163,184,0.9)",
                },
              },
              y: {
                beginAtZero: true,
                grid: {
                  color: "rgba(55,65,81,0.45)",
                },
                ticks: {
                  font: { size: 10 },
                  color: "rgba(148,163,184,0.9)",
                  callback: (val) => val + "%",
                },
              },
            },
          },
        });
      }

      function buildContentTypeChart(ctx, snapshot) {
        if (contentTypeChart) contentTypeChart.destroy();

        const data = snapshot.contentType;
        const labels = ["Trends", "Educativos", "Lifestyle"];

        contentTypeChart = new Chart(ctx, {
          type: "doughnut",
          data: {
            labels,
            datasets: [
              {
                data: [
                  data.trends * 100,
                  data.educativos * 100,
                  data.lifestyle * 100,
                ],
                backgroundColor: ["#ff2c55", "#20d5ff", "#6366f1"],
                borderWidth: 1,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: "70%",
            plugins: {
              legend: {
                display: true,
                position: "bottom",
                labels: {
                  font: { size: 10 },
                  color: "rgba(148,163,184,0.9)",
                },
              },
              tooltip: {
                callbacks: {
                  label: (ctx) => `${ctx.raw.toFixed(1)}%`,
                },
              },
            },
          },
        });
      }

      // =========================
      // Tema claro / oscuro
      // =========================

      function loadTheme() {
        const saved = window.localStorage.getItem("tt_theme");
        if (saved === "light" || saved === "dark") {
          state.theme = saved;
        }
        document.body.setAttribute("data-theme", state.theme);
      }

      function toggleTheme() {
        state.theme = state.theme === "dark" ? "light" : "dark";
        document.body.setAttribute("data-theme", state.theme);
        window.localStorage.setItem("tt_theme", state.theme);
      }

      // =========================
      // Render principal
      // =========================

      function getSnapshot() {
        return BASE_DATA[state.account][state.range];
      }

      function renderAll() {
        const snapshot = getSnapshot();
        renderKpis(snapshot);
        renderTopVideos(snapshot);

        const growthText =
          (snapshot.growth >= 0 ? "+" : "") +
          snapshot.growth.toFixed(1) +
          "% √∫ltimos " +
          state.range +
          " d√≠as";

        growthLabelEl.textContent = growthText;

        buildEngagementChart(
          document.getElementById("engagementChart"),
          snapshot
        );
        buildContentTypeChart(
          document.getElementById("contentTypeChart"),
          snapshot
        );
      }

      // =========================
      // Listeners
      // =========================

      document
        .querySelectorAll(".pill-btn")
        .forEach((btn) =>
          btn.addEventListener("click", () => {
            const range = Number(btn.dataset.range || 7);
            state.range = range;

            document
              .querySelectorAll(".pill-btn")
              .forEach((b) => b.classList.remove("pill-btn--active"));
            btn.classList.add("pill-btn--active");

            renderAll();
          })
        );

      accountSelect.addEventListener("change", () => {
        state.account = accountSelect.value;
        renderAll();
      });

      themeToggleBtn.addEventListener("click", () => {
        toggleTheme();
      });

      // =========================
      // Init
      // =========================

      loadTheme();
      renderAll();
    </script>
  </body>
</html>